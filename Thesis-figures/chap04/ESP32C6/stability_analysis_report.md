=====================================================================================
 >>> CSI特征稳定性与可用性定量分析报告 (ESP32C6) <<<
=====================================================================================
子载波索引: 32
-------------------------------------------------------------------------------------
Label                     | Mean Amp   | CV(Raw)%   | CV(Filt)%  | Phase Std 
-------------------------------------------------------------------------------------
No Target                 | 20.90      | 6.05       | 4.04       | 10.33     
Position 1 (Left-Top)     | 18.02      | 6.69       | 4.37       | 8.85      
Position 2 (Right-Top)    | 15.99      | 6.98       | 4.93       | 19.67     
Position 3 (Bot-Right)    | 16.32      | 10.54      | 9.04       | 10.15     
Position 4 (Center)       | 17.37      | 8.82       | 7.84       | 6.00      
=====================================================================================
分析结论与论述 :
1. 幅值稳定性 (Intra-class Stability):
   - 幅值的平均变异系数 (CV) 为 6.05%。
   - 评级: [优秀]。低变异系数表明同一点位的幅值特征非常稳定，噪声影响较小。

2. 相位随机性 (Phase Randomness):
   - 解卷绕并去趋势后的相位平均标准差为 11.00 Rad。
   - 评级: [高随机性]。相位标准差很大，说明相位在同一点位内剧烈跳变。
   - 原因: ESP32等低成本WiFi网卡的载波频率偏移(CFO)和采样时钟偏移(SFO)导致的相位非线性误差难以完全消除。

3. 综合推荐 (Recommendation for Neural Networks):
   基于上述指标，强烈推荐使用 **[CSI幅值]** (Amplitude) 作为神经网络的输入特征。
   理由:
   (1) 稳定性: 幅值在静态场景下保持高度稳定(低CV)，有利于网络学习到位置与信号强度的确定性映射。
   (2) 可分性: 不同位置的幅值均值差异明显(见箱线图)，构成了清晰的位置指纹(Fingerprint)。
   (3) 相位不可用: 原始相位含噪过大，即使经过解卷绕和去线性化，其随机抖动仍会淹没位置特征，导致网络无法收敛或过拟合。

=====================================================================================

以下是为什么要对**幅值用 CV**，而对**相位用标准差**的深层原因：

### 1. 为什么幅值（Amplitude）必须用 CV？—— **“相对稳定性”**

幅值是一个**有量纲且受环境增益影响**的数值。

* **缩放效应：** 在 CSI 测量中，离路由器近的设备，其幅值均值（Mean）可能在 50 以上；离得远的可能只有 10。
* **标准差的局限性：** 如果两个位置的标准差都是 2。对于均值为 50 的信号，2 的波动很小（4%）；但对于均值为 10 的信号，2 的波动就巨大（20%）。
* **CV 的优势：** 变异系数 （标准差/均值）。它消除了信号强度的影响，让我们能在同一个标准下判断“**信噪比**”是否稳定。
* **结论：** 评价幅值时，我们关心的是**相对波动**。

### 2. 为什么相位（Phase）必须用标准差？—— **“绝对角位移”**

相位是一个**周期性（ 到 ）且没有绝对零点的角度量**。

* **物理意义：** 相位代表的是波形的位移。1 个弧度（Rad）的跳变，无论相位均值是 0 还是 100，它代表的物理位移误差（由于 CFO/SFO 引起的）是完全一样的。
* **CV 的失效：** * 相位的均值可能非常接近 0。如果均值为 0.01，即便标准差只有 0.1，计算出的 CV 也会高达 1000%，这在物理上没有任何参考价值。
* 相位经过解卷绕（Unwrap）后，其数值大小取决于起始子载波的累加，均值（Mean）具有随机性。


* **结论：** 评价相位时，我们关心的是**绝对抖动幅度**。

### 3. 为什么不建议统一指标？

如果我们强行统一，会产生误导：

* **如果统一用标准差：** 表格中 Position 1 的幅值标准差约 1.2（），而 No Target 是 1.26。你会觉得两者一样稳定。但实际上 Position 1 的信号弱，它的 1.2 抖动其实比 No Target 更“吵”。
* **如果统一用 CV：** 假设相位的均值是 0.1 rad，标准差是 10 rad，CV 就是 10000%；如果均值是 10 rad，CV 就是 100%。但对于算法来说，10 rad 的抖动都是致命的“不可用”，CV 掩盖了这种绝对的错误。

### 总结


* **幅值（能量域）：** 关注**相对抖动（CV）**，反映信噪比是否足以支持特征识别。
* **相位（时频域）：** 关注**绝对跳变（Std Dev）**，反映硬件同步误差（CFO/SFO）是否已经破坏了相位信息的可用性。

