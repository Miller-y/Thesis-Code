


### 光学定位传感器实验

在一个刚性小板（或3D打印件）上，固定一个 LED 和一个 SMR磁力座。标定工装偏移量 ($\vec{d}_{offset}$)：你需要极其精确地知道 SMR中心 到 LED中心 的相对位置矢量。使用高精度三坐标测量机（CMM）提前标定这个工装。

激光跟踪仪位置和Y型传感器位置模糊描述，架设在空间侧后方，确保能覆盖整个 2.5m 的空间
为直观分析，以3D空间坐标系描述测试点布局

传感器固定：将Y型传感器竖立固定，保证实验过程中绝对静止。注：此时传感器的坐标系 $S$：Z轴水平指向空间深处，X轴水平向右，Y轴垂直向上（假设符合常规右手系定义）。激光跟踪仪架设：架设在空间侧后方，确保能覆盖整个 2.5m 的空间，且光路不被遮挡。建立跟踪仪坐标系 $W$（世界坐标系）。


标记点定位实验之前需要按照按照第五章所提标定方法，将标定板移动到多个不同的位置进行观测，最终得到YOPS中3个线阵相机内参如表X所示，结果保留4位小数。

表 X 线阵相机内参和畸变系数标定结果
编号 𝑓 /pixel 𝑢0/pixel 
1 3152.6712 1846.3533
2 3104.9028 1875.1358
3 3167.4637 1822.5206

完成LOPS标定后，

空间规划：在 $2.5m \times 2.5m \times 2.5m$ 的视场锥内，规划测试点位。建议采用 分层采样法：深度（Z轴方向）：选取近（0.5m）、中（1.5m）、远（2.5m）三个平面。平面（XY方向）：在每个平面上取 $3 \times 3$ 共9个点（中心1个，四角4个，边中点4个）。共计：$3 \times 9 = 27$ 个测试点。


对每一个规划的点位 $i$ ($i=1...27$)：移动：将组合靶标移动到该位置，并使用支架固定（尽量避免手持带来的抖动）。测量：传感器：采集一段时间（如1秒）的LED坐标，取平均值，得到 $P_{S,i}$。激光跟踪仪：同时采集SMR坐标，取平均值，得到 $P_{W,i}$。记录：保存这一对数据 $(P_{S,i}, P_{W,i})$。
不能直接比较 $P_S$ 和 $P_W$，因为它们属于不同的坐标系，将激光跟踪仪的所有测量值转换到传感器坐标系下，作为**真值 (Ground Truth)**


展示方式：一个 3D 散点图，画出 $2.5 \times 2.5 \times 2.5$ 的空间边框，然后用不同颜色或形状标记出三层采样点。图注示例：图 x 静态单点定位实验测试点空间分布示意图（分层采样）
文字描述：“实验采用分层采样法，在深度方向（Z轴）选取 $Z=0.5m, 1.5m, 2.5m$ 三个特征平面。每个平面内均匀布置 9 个测试点（呈 $3 \times 3$ 阵列），如图 x 所示。三个平面共计 27 个测试点，覆盖了视场空间的核心区域与边缘区域。”




1. **总体精度指标**：
* 计算 RMSE（均方根误差）：。
* 计算 Max Error（最大误差）和 Mean Error（平均误差）。

---------------------------------------------------------------------------     
Layer        | RMSE_all   | RMSE_X     | RMSE_Y     | RMSE_Z     | Max_Err      
---------------------------------------------------------------------------     
Near (500)   | 12.3106    | 8.8042     | 7.6709     | 3.8978     | 26.7186
Mid (1500)   | 12.3397    | 6.5141     | 5.5713     | 8.8767     | 19.2129
Far (2500)   | 24.4317    | 7.0819     | 7.6106     | 22.1096    | 51.5296
---------------------------------------------------------------------------
Overall      | 17.3275    | 7.5299     | 7.0191     | 13.9382    | 51.5296
---------------------------------------------------------------------------


2. **误差的空间分布图**：
* **Z轴误差曲线**：横轴为距离（Z），纵轴为误差（Error）。观察精度是否随距离增加而显著下降（通常视觉传感器都有这个特性）
如图X为带误差棒的折线图，每层“点”的含义代表平均误差 (Mean Error)，上横线位置 = 平均值 + 标准差 (Mean + SD)，下横线位置 = 平均值 - 标准差 (Mean - SD)，代表数据的波动范围。



